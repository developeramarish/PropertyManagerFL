@using PropertyManagerFL.Application.Shared.Enums;

@inject IStringLocalizer<App> L

<div class="quick-info-header">
    <SfDialog Width="@DialogWidth"
              IsModal="true"
              Visible = "@Visibility"
              CloseOnEscape="true"
              ShowCloseIcon="false">
        <DialogTemplates>
            <Header>
                <div class="ml-2 font-weight-bold" style="font-size:1.1rem; color:@TitleColor">@Title</div>
            </Header>
            <Content>
                <div class="row m-2">
                    <div class="col-9">
                        <div>
                            <SfMessage ShowIcon="true" Severity="MessageSeverity.Warning">@(Message)</SfMessage>
                        </div>
                    </div>
                    <RightSideImageComponent Operation="@OperationType" />
                </div>
            </Content>
            <FooterTemplate>
                <div class="mb-3">
                    <SfButton CssClass="e-outline e-round-corner" IconCss="fas fa-times"
                              @onclick="OnClose" Content="@L["MSG_GoBack"]">
                    </SfButton>
                </div>
            </FooterTemplate>
        </DialogTemplates>
        <DialogAnimationSettings Effect="@Effects" Duration=600></DialogAnimationSettings>
    </SfDialog>
</div>

@code {
    [Parameter] public bool Visibility { get; set; } = false;
    [Parameter] public string Title { get; set; } = "";
    [Parameter] public string Message { get; set; } = "";
    [Parameter] public string DialogWidth { get; set; } = "25%";
    [Parameter] public AppDefinitions.AlertMessageType AlertMessageType { get; set; } = AppDefinitions.AlertMessageType.Info;
    [Parameter] public AppDefinitions.OpcoesRegisto OperationType { get; set; } = AppDefinitions.OpcoesRegisto.Info;

    [Parameter] public EventCallback OnCloseDialog { get; set; }

    private DialogEffect Effects = DialogEffect.FadeZoom;

    private string TitleColor { get; set; } = "cornflowerblue";
    private string cssClass = "notify-info";

    protected void OnClose()
    {
        OnCloseDialog.InvokeAsync();
    }

}

<style>
    .e-dialog.e-control.e-popup, .e-dialog.e-control.e-popup .e-dlg-header-content {
        background-color: #d9edf7;
    }

    .e-dialog .e-dlg-content {
        color: white;
        background-color: #f8f8f8;
        font-size: 0.8rem;
        font-weight: normal;
        line-height: normal;
    }
</style>
